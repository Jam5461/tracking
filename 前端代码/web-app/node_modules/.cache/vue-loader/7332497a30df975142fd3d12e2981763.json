{"remainingRequest":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\src\\views\\basics\\Commodity.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\src\\views\\basics\\Commodity.vue","mtime":1708788988074},{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704694273307},{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1704694305094}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7RGVsZXRlQ29tbW9kaXR5QnlJZCwgRmluZEFsbENvbW1vZGl0eSwgU2F2ZUNvbW1vZGl0eX0gZnJvbSAiQC9hcGkvY29tbW9kaXR5IjsKaW1wb3J0IHtTZWFyY2hDb21tb2RpdHl9IGZyb20gIi4uLy4uL2FwaS9jb21tb2RpdHkiOwoKY29uc3QgY29sdW1ucyA9IFsKICB7CiAgICBkYXRhSW5kZXg6ICduYW1lJywKICAgIGtleTogJ25hbWUnLAogICAgc2xvdHM6IHt0aXRsZTogJ2N1c3RvbVRpdGxlJ30sCiAgICBzY29wZWRTbG90czoge2N1c3RvbVJlbmRlcjogJ25hbWUnfSwKICB9LAogIHsKICAgIHRpdGxlOiAn5bqT5a2Y5pWw6YePJywKICAgIGRhdGFJbmRleDogJ2NvdW50JywKICAgIGtleTogJ2FnZScKICAgIC8vIGRlZmF1bHRTb3J0T3JkZXI6ICdkZXNjZW5kJywgLy8g6buY6K6k5LiK5Yiw5LiL5Li655Sx5aSn5Yiw5bCP55qE6aG65bqPCiAgICAvLyBzb3J0ZXI6IChhLCBiKSA9PiB7IHJldHVybiBhLmNvdW50PiBiLmNvdW50PyAxIDogLTEgfSwKICAgIC8vIHNvcnRGaWVsZDogJ2NvdW50JwogIH0sCiAgewogICAgdGl0bGU6ICfov5DljZXlj7cnLAogICAgZGF0YUluZGV4OiAnZGVzY3JpcHRpb24nLAogICAga2V5OiAnZGVzY3JpcHRpb24nLAogIH0sCiAgewogICAgdGl0bGU6ICflhaXlupPml7bpl7QnLAogICAgZGF0YUluZGV4OiAnY3JlYXRlQXQnLAogICAga2V5OiAnY3JlYXRlQXQnLAogICAgZGVmYXVsdFNvcnRPcmRlcjogJ2Rlc2NlbmQnLCAvLyDpu5jorqTkuIrliLDkuIvkuLrnlLHlpKfliLDlsI/nmoTpobrluo8KICAgIHNvcnRlcjogKGEsIGIpID0+IHsgcmV0dXJuIGEuY3JlYXRlQXQ+IGIuY3JlYXRlQXQ/IDEgOiAtMSB9LAogICAgc29ydEZpZWxkOiAnY3JlYXRlQXQnCiAgfSwKICB7CiAgICB0aXRsZTogJ+i/kOS7tycsCiAgICBrZXk6ICdwcmljZScsCiAgICBkYXRhSW5kZXg6ICdwcmljZScsCiAgICBzY29wZWRTbG90czoge2N1c3RvbVJlbmRlcjogJ3RhZ3MnfSwKICB9LAogIHsKICAgIHRpdGxlOiAn5pu05aSa5pON5L2cJywKICAgIGtleTogJ2FjdGlvbicsCiAgICBzY29wZWRTbG90czoge2N1c3RvbVJlbmRlcjogJ2FjdGlvbid9LAogIH0KXTsKCmNvbnN0IGRhdGEgPSBbXTsKCmV4cG9ydCBkZWZhdWx0IHsKICBkYXRhKCkgewogICAgcmV0dXJuIHsKICAgICAgY29tbW9kaXR5OiB7CiAgICAgICAgbmFtZTogJycsCiAgICAgICAgZGVzY3JpcHRpb246ICfov5DpgIHms6jmhI8nLAogICAgICAgIGNvdW50OiAwLAogICAgICAgIHByaWNlOiA5Ljk5LAogICAgICB9LAogICAgICBsb2FkaW5nOiBmYWxzZSwKICAgICAgbW9kYWxMb2FkaW5nOiBmYWxzZSwKICAgICAgY29tbW9kaXR5VmlzaWJsZTogZmFsc2UsCiAgICAgIGNvbW1vZGl0eUxvYWRpbmc6IGZhbHNlLAogICAgICBkYXRhOiBbXSwKICAgICAgY29sdW1ucywKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZFRhYmxlRGF0YSgpCiAgfSwKCiAgbWV0aG9kczogewogICAgb25TZWFyY2godmFsdWUpIHsKICAgICAgaWYgKHZhbHVlKXsKICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlCiAgICAgICAgU2VhcmNoQ29tbW9kaXR5KHZhbHVlKS50aGVuKChyZXMpID0+IHsKICAgICAgICAgIGNvbnNvbGUubG9nKHJlcykKICAgICAgICAgIGlmIChyZXMuZGF0YS5sZW5ndGggPT09IDApIHsKICAgICAgICAgICAgdGhpcy4kbWVzc2FnZS53YXJuKCLmnKrmkJzntKLliLDku7vkvZXmlbDmja4iKQogICAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhCiAgICAgICAgICAgIH0sIDYwMCkKICAgICAgICAgIH0gZWxzZSB7CiAgICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygi5pCc57Si5YiwIiArIHJlcy5kYXRhLmxlbmd0aCArICLkuKrotKfniakiKQogICAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgICAgdGhpcy5kYXRhID0gcmVzLmRhdGEKICAgICAgICAgICAgfSwgNjAwKQogICAgICAgICAgfQogICAgICAgIH0pCiAgICAgIH1lbHNlIHsKICAgICAgICB0aGlzLiRtZXNzYWdlLndhcm4oIuivt+i+k+WFpeaQnOe0ouWGheWuuSIpCiAgICAgIH0KICAgIH0sCgogICAgbG9hZFRhYmxlRGF0YSgpIHsKICAgICAgdGhpcy5sb2FkaW5nID0gdHJ1ZQogICAgICBGaW5kQWxsQ29tbW9kaXR5KCkudGhlbigocmVzKSA9PiB7CiAgICAgICAgc2V0VGltZW91dCgoKSA9PiB7CiAgICAgICAgICB0aGlzLmxvYWRpbmcgPSBmYWxzZQogICAgICAgICAgdGhpcy5kYXRhID0gcmVzLmRhdGEKICAgICAgICB9LCA2MDApCiAgICAgIH0pCiAgICB9LAogICAgc3VibWl0Q29tbW9kaXR5KCkgewogICAgICB0aGlzLm1vZGFsTG9hZGluZyA9IHRydWUKICAgICAgU2F2ZUNvbW1vZGl0eSh0aGlzLmNvbW1vZGl0eSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLm1vZGFsTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuY29tbW9kaXR5VmlzaWJsZSA9IGZhbHNlCiAgICAgICAgICAgIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn6LSn54mp5L+h5oGv5o+Q5Lqk5oiQ5YqfJyk7CiAgICAgICAgICAgIHRoaXMubG9hZFRhYmxlRGF0YSgpCiAgICAgICAgICB9LCA2MDApCiAgICAgICAgfSBlbHNlIHsKICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gewogICAgICAgICAgICB0aGlzLm1vZGFsTG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB9LCA2MDApCiAgICAgICAgfQogICAgICB9KQogICAgfSwKCiAgICBoYW5kbGVEZWxldGUociwgaW5kZXgpIHsKICAgICAgRGVsZXRlQ29tbW9kaXR5QnlJZChyLmlkKS50aGVuKChyZXMpID0+IHsKICAgICAgICBpZiAocmVzLnN0YXR1cykgdGhpcy4kbWVzc2FnZS5zdWNjZXNzKCfotKfniankv6Hmga/mj5DkuqTmiJDlip8nKTsKICAgICAgICB0aGlzLmxvYWRUYWJsZURhdGEoKQogICAgICB9KQogICAgICBjb25zb2xlLmxvZyhpbmRleCkKICAgIH0sCgogICAgaGFuZGxlVXBkYXRlKHIpIHsKICAgICAgdGhpcy5jb21tb2RpdHkgPSByCiAgICAgIHRoaXMuY29tbW9kaXR5VmlzaWJsZSA9IHRydWUKICAgIH0sCgogIH0sCn07Cg=="},{"version":3,"sources":["Commodity.vue"],"names":[],"mappings":";AA0DA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"Commodity.vue","sourceRoot":"src/views/basics","sourcesContent":["<template>\n  <div>\n    <div style=\"display: flex\">\n      <a-button size=\"large\" class=\"editable-add-btn\" @click=\"commodityVisible = true\">\n        <a-icon type=\"plus\"/>\n        新增商品\n      </a-button>\n      <a-input-search\n          placeholder=\"请输入货物类型或运单号\"\n          enter-button=\"搜索货物\"\n          style=\"width: 400px;margin-left: 20px\"\n          size=\"large\"\n          @search=\"onSearch\"\n      />\n      <a-button style=\"margin-left: 10px\" size=\"large\" type=\"danger\" @click=\"loadTableData\">\n        重置\n      </a-button>\n    </div>\n    <a-table :loading=\"loading\" :columns=\"columns\" :data-source=\"data\" :sortDirections=\"['ascend', 'descend']\" rowKey=\"id\">\n      <a slot=\"name\" slot-scope=\"text\">{{ text }}</a>\n      <span slot=\"customTitle\"><a-icon type=\"smile-o\"/> 货物类型</span>\n      <span slot=\"action\" slot-scope=\"text, record, index\">\n        <a-button @click=\"handleUpdate(record)\" type=\"link\"><a-icon type=\"edit\"/> Update</a-button>\n      <a-divider type=\"vertical\"/>\n         <a-button @click=\"handleDelete(record,index)\" type=\"link\"><a-icon type=\"delete\"/> Delete</a-button>\n      </span>\n    </a-table>\n\n    <a-modal\n        title=\"货物信息\"\n        :closable=\"false\"\n        :visible=\"commodityVisible\"\n    >\n      <a-form-model ref=\"ruleForm\" :model=\"commodity\">\n        <a-form-model-item ref=\"name\" label=\"货物类型\" prop=\"name\">\n          <a-input v-model=\"commodity.name\"/>\n        </a-form-model-item>\n        <a-form-model-item label=\"运单号\" prop=\"description\">\n          <a-input v-model=\"commodity.description\" type=\"textarea\"/>\n        </a-form-model-item>\n        <a-form-model-item label=\"运价\" prop=\"price\">\n          <a-input-number id=\"input\" v-model=\"commodity.price\" :min=\"1\"/>\n        </a-form-model-item>\n      </a-form-model>\n      <template slot=\"footer\">\n        <a-button key=\"back\" @click=\"commodityVisible = false\">\n          Return\n        </a-button>\n        <a-button key=\"submit\" type=\"primary\" :loading=\"modalLoading\" @click=\"submitCommodity\">\n          Submit\n        </a-button>\n      </template>\n    </a-modal>\n\n  </div>\n</template>\n\n<script>\nimport {DeleteCommodityById, FindAllCommodity, SaveCommodity} from \"@/api/commodity\";\nimport {SearchCommodity} from \"../../api/commodity\";\n\nconst columns = [\n  {\n    dataIndex: 'name',\n    key: 'name',\n    slots: {title: 'customTitle'},\n    scopedSlots: {customRender: 'name'},\n  },\n  {\n    title: '库存数量',\n    dataIndex: 'count',\n    key: 'age'\n    // defaultSortOrder: 'descend', // 默认上到下为由大到小的顺序\n    // sorter: (a, b) => { return a.count> b.count? 1 : -1 },\n    // sortField: 'count'\n  },\n  {\n    title: '运单号',\n    dataIndex: 'description',\n    key: 'description',\n  },\n  {\n    title: '入库时间',\n    dataIndex: 'createAt',\n    key: 'createAt',\n    defaultSortOrder: 'descend', // 默认上到下为由大到小的顺序\n    sorter: (a, b) => { return a.createAt> b.createAt? 1 : -1 },\n    sortField: 'createAt'\n  },\n  {\n    title: '运价',\n    key: 'price',\n    dataIndex: 'price',\n    scopedSlots: {customRender: 'tags'},\n  },\n  {\n    title: '更多操作',\n    key: 'action',\n    scopedSlots: {customRender: 'action'},\n  }\n];\n\nconst data = [];\n\nexport default {\n  data() {\n    return {\n      commodity: {\n        name: '',\n        description: '运送注意',\n        count: 0,\n        price: 9.99,\n      },\n      loading: false,\n      modalLoading: false,\n      commodityVisible: false,\n      commodityLoading: false,\n      data: [],\n      columns,\n    };\n  },\n\n  mounted() {\n    this.loadTableData()\n  },\n\n  methods: {\n    onSearch(value) {\n      if (value){\n        this.loading = true\n        SearchCommodity(value).then((res) => {\n          console.log(res)\n          if (res.data.length === 0) {\n            this.$message.warn(\"未搜索到任何数据\")\n            setTimeout(() => {\n              this.loading = false\n              this.data = res.data\n            }, 600)\n          } else {\n            setTimeout(() => {\n              this.$message.success(\"搜索到\" + res.data.length + \"个货物\")\n              this.loading = false\n              this.data = res.data\n            }, 600)\n          }\n        })\n      }else {\n        this.$message.warn(\"请输入搜索内容\")\n      }\n    },\n\n    loadTableData() {\n      this.loading = true\n      FindAllCommodity().then((res) => {\n        setTimeout(() => {\n          this.loading = false\n          this.data = res.data\n        }, 600)\n      })\n    },\n    submitCommodity() {\n      this.modalLoading = true\n      SaveCommodity(this.commodity).then((res) => {\n        if (res.status) {\n          setTimeout(() => {\n            this.modalLoading = false\n            this.commodityVisible = false\n            this.$message.success('货物信息提交成功');\n            this.loadTableData()\n          }, 600)\n        } else {\n          setTimeout(() => {\n            this.modalLoading = false\n          }, 600)\n        }\n      })\n    },\n\n    handleDelete(r, index) {\n      DeleteCommodityById(r.id).then((res) => {\n        if (res.status) this.$message.success('货物信息提交成功');\n        this.loadTableData()\n      })\n      console.log(index)\n    },\n\n    handleUpdate(r) {\n      this.commodity = r\n      this.commodityVisible = true\n    },\n\n  },\n};\n</script>\n\n<style scoped>\n.editable-add-btn {\n  margin-bottom: 15px;\n}\n</style>\n"]}]}