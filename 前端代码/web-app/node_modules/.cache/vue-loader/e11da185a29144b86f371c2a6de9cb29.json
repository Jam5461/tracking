{"remainingRequest":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\src\\views\\sale\\Record.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\src\\views\\sale\\Record.vue","mtime":1708788535331},{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704694273307},{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1704694305094}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:CmltcG9ydCB7RmluZEFsbFNhbGUsIFNhdmVTYWxlfSBmcm9tICIuLi8uLi9hcGkvc2FsZSI7Cgpjb25zdCBjb2x1bW5zID0gWwogIHsKICAgIGRhdGFJbmRleDogJ2NvbXBhbnknLAogICAga2V5OiAnY29tcGFueScsCiAgICBzbG90czoge3RpdGxlOiAnY3VzdG9tVGl0bGUnfSwKICAgIHNjb3BlZFNsb3RzOiB7Y3VzdG9tUmVuZGVyOiAnY29tcGFueSd9LAogIH0sCiAgewogICAgdGl0bGU6ICfmlLbku7bkuronLAogICAgZGF0YUluZGV4OiAnbnVtYmVyJywKICAgIGtleTogJ251bWJlcicsCiAgfSwKICB7CiAgICB0aXRsZTogJ+i0p+eJqeexu+WeiycsCiAgICBkYXRhSW5kZXg6ICdjb21tb2RpdHknLAogICAga2V5OiAnY29tbW9kaXR5JywKICB9LAogIHsKICAgIHRpdGxlOiAn5pWw6YePJywKICAgIGRhdGFJbmRleDogJ2NvdW50JywKICAgIGtleTogJ2NvdW50JwogIH0sCiAgewogICAgdGl0bGU6ICfmgLvorqEnLAogICAgZGF0YUluZGV4OiAncHJpY2UnLAogICAga2V5OiAncHJpY2UnLAogIH0sCiAgewogICAgdGl0bGU6ICfpooTnlZnnlLXor50nLAogICAga2V5OiAncGhvbmUnLAogICAgZGF0YUluZGV4OiAncGhvbmUnLAogIH0sCiAgewogICAgdGl0bGU6ICflpIfms6gnLAogICAgZGF0YUluZGV4OiAnZGVzY3JpcHRpb24nLAogICAga2V5OiAnZGVzY3JpcHRpb24nLAogIH0sCiAgewogICAgdGl0bGU6ICflvIDnpajml7bpl7QnLAogICAgZGF0YUluZGV4OiAnY3JlYXRlQXQnLAogICAga2V5OiAnY3JlYXRlQXQnLAogIH0sCiAgewogICAgdGl0bGU6ICfmm7TlpJrmk43kvZwnLAogICAga2V5OiAnYWN0aW9uJywKICAgIHNjb3BlZFNsb3RzOiB7Y3VzdG9tUmVuZGVyOiAnYWN0aW9uJ30sCiAgfSwKXTsKCmNvbnN0IGRhdGEgPSBbXTsKCmV4cG9ydCBkZWZhdWx0IHsKCiAgZGF0YSgpIHsKICAgIHJldHVybiB7CiAgICAgIGxvYWRpbmc6IGZhbHNlLAogICAgICBkYXRhOiBbXSwKICAgICAgY29sdW1ucywKICAgIH07CiAgfSwKCiAgbW91bnRlZCgpIHsKICAgIHRoaXMubG9hZFRhYmxlRGF0YSgpCiAgfSwKCiAgbWV0aG9kczogewoKICAgIGxvYWRUYWJsZURhdGEoKSB7CiAgICAgIHRoaXMubG9hZGluZyA9IHRydWUKICAgICAgRmluZEFsbFNhbGUoKS50aGVuKChyZXMpID0+IHsKICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsKICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlCiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YQogICAgICAgIH0sIDYwMCkKICAgICAgfSkKICAgIH0sCgogICAgY29uZmlybShyZWNvcmQsIGluZGV4KSB7CiAgICAgIGxldCB0aGF0ID0gdGhpcwogICAgICB0aGlzLiRjb25maXJtKHsKICAgICAgICB0aXRsZTogJ+mUgOWUrue7k+asvicsCiAgICAgICAgY29udGVudDogJ+aIkeW3suehruWumicgKyByZWNvcmQuY29tcGFueSArICfnmoTplIDllK7ph5Hpop0gwqUnICsgcmVjb3JkLnByaWNlICsgJ+W3sue7j+aJk+WFpei0puaItyEnLAogICAgICAgIG9rVGV4dDogJ+ehruiupCcsCiAgICAgICAgY2FuY2VsVGV4dDogJ+WPlua2iCcsCiAgICAgICAgb25PaygpIHsKICAgICAgICAgIHRoYXQuZGF0YVtpbmRleF0ucGF5ID0gdHJ1ZQogICAgICAgICAgU2F2ZVNhbGUodGhhdC5kYXRhW2luZGV4XSkudGhlbigocmVzKSA9PiB7CiAgICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB0aGF0LiRtZXNzYWdlLnN1Y2Nlc3MoIumUgOWUrue7k+asvuaIkOWKnyIpCiAgICAgICAgICB9KQogICAgICAgIH0sCiAgICAgIH0pOwogICAgfSwKCgogIH0sCgp9Owo="},{"version":3,"sources":["Record.vue"],"names":[],"mappings":";AAgBA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;;AAGA;;AAEA","file":"Record.vue","sourceRoot":"src/views/sale","sourcesContent":["<template>\n  <div>\n    <a-table :loading=\"loading\" :columns=\"columns\" :sortDirections=\"['ascend', 'descend']\" :data-source=\"data\" rowKey=\"id\">\n      <a slot=\"company\" slot-scope=\"company\">{{ company }}</a>\n      <span slot=\"customTitle\"><a-icon type=\"bank\" /> 寄件人</span>\n      <span slot=\"action\" slot-scope=\"text, record, index\">\n        <a-tag color=\"red\" v-if=\"!record.pay\">等待结款</a-tag>\n        <a-tag color=\"green\" v-if=\"record.pay\">结款完成</a-tag>\n        <a-button v-if=\"!record.pay\" type=\"link\" @click=\"confirm(record, index)\">结款</a-button>\n      </span>\n    </a-table>\n\n  </div>\n</template>\n\n<script>\nimport {FindAllSale, SaveSale} from \"../../api/sale\";\n\nconst columns = [\n  {\n    dataIndex: 'company',\n    key: 'company',\n    slots: {title: 'customTitle'},\n    scopedSlots: {customRender: 'company'},\n  },\n  {\n    title: '收件人',\n    dataIndex: 'number',\n    key: 'number',\n  },\n  {\n    title: '货物类型',\n    dataIndex: 'commodity',\n    key: 'commodity',\n  },\n  {\n    title: '数量',\n    dataIndex: 'count',\n    key: 'count'\n  },\n  {\n    title: '总计',\n    dataIndex: 'price',\n    key: 'price',\n  },\n  {\n    title: '预留电话',\n    key: 'phone',\n    dataIndex: 'phone',\n  },\n  {\n    title: '备注',\n    dataIndex: 'description',\n    key: 'description',\n  },\n  {\n    title: '开票时间',\n    dataIndex: 'createAt',\n    key: 'createAt',\n  },\n  {\n    title: '更多操作',\n    key: 'action',\n    scopedSlots: {customRender: 'action'},\n  },\n];\n\nconst data = [];\n\nexport default {\n\n  data() {\n    return {\n      loading: false,\n      data: [],\n      columns,\n    };\n  },\n\n  mounted() {\n    this.loadTableData()\n  },\n\n  methods: {\n\n    loadTableData() {\n      this.loading = true\n      FindAllSale().then((res) => {\n        setTimeout(() => {\n          this.loading = false\n          this.data = res.data\n        }, 600)\n      })\n    },\n\n    confirm(record, index) {\n      let that = this\n      this.$confirm({\n        title: '销售结款',\n        content: '我已确定' + record.company + '的销售金额 ¥' + record.price + '已经打入账户!',\n        okText: '确认',\n        cancelText: '取消',\n        onOk() {\n          that.data[index].pay = true\n          SaveSale(that.data[index]).then((res) => {\n            if (res.status) that.$message.success(\"销售结款成功\")\n          })\n        },\n      });\n    },\n\n\n  },\n\n};\n</script>\n\n<style scoped>\n.editable-add-btn {\n  margin-bottom: 15px;\n}\n</style>\n"]}]}