{"remainingRequest":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\src\\views\\logging\\SystemLog.vue?vue&type=script&lang=js","dependencies":[{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\src\\views\\logging\\SystemLog.vue","mtime":1671435369719},{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704694273307},{"path":"F:\\小宝贝\\论文\\物流项目\\模板\\基于SpringBoot+Vue实现的物流管理系统\\前端代码\\web-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1704694305094}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCB7RmluZEFsbFN5c3RlbUxvZyxEZWxldGVTeXN0ZW1Mb2dCeUlkLHF1ZXJ5U3lzdGVtTG9nfSBmcm9tICJAL2FwaS9sb2ciOw0KICANCiAgY29uc3QgY29sdW1ucyA9IFsNCiAgICB7DQogICAgICBkYXRhSW5kZXg6ICdhY2NvdW50JywNCiAgICAgIGtleTogJ2FjY291bnQnLA0KICAgICAgc2xvdHM6IHt0aXRsZTogJ2N1c3RvbVRpdGxlJ30sDQogICAgICBzY29wZWRTbG90czoge2N1c3RvbVJlbmRlcjogJ2FjY291bnQnfQ0KICAgIH0sDQogICAgew0KICAgICAgdGl0bGU6ICflip/og73mqKHlnZcnLA0KICAgICAgZGF0YUluZGV4OiAnbW9kdWxlJywNCiAgICAgIGtleTogJ21vZHVsZScsDQogICAgfSwNCiAgICB7DQogICAgICB0aXRsZTogJ+aTjeS9nOexu+WeiycsDQogICAgICBkYXRhSW5kZXg6ICdidXNpbmNlc3NUeXBlJywNCiAgICAgIGtleTogJ2J1c2luY2Vzc1R5cGUnLA0KICAgIH0sDQogICAgew0KICAgICAgdGl0bGU6ICdJUCcsDQogICAgICBkYXRhSW5kZXg6ICdpcCcsDQogICAgICBrZXk6ICdpcCcsDQogICAgfSwNCiAgICB7DQogICAgICB0aXRsZTogJ+aTjeS9nOexu+aWueazlScsDQogICAgICBrZXk6ICdtZXRob2QnLA0KICAgICAgZGF0YUluZGV4OiAnbWV0aG9kJw0KICAgIH0sDQogICAgew0KICAgICAgdGl0bGU6ICfmk43kvZzml7bpl7QnLA0KICAgICAga2V5OiAndGltZScsDQogICAgICBkYXRhSW5kZXg6ICd0aW1lJywNCiAgICAgIGRlZmF1bHRTb3J0T3JkZXI6ICdkZXNjZW5kJywgLy8g6buY6K6k5LiK5Yiw5LiL5Li655Sx5aSn5Yiw5bCP55qE6aG65bqPDQogICAgICBzb3J0ZXI6IChhLCBiKSA9PiB7IHJldHVybiBhLnRpbWU+IGIudGltZT8gMSA6IC0xIH0sDQogICAgICBzb3J0RmllbGQ6ICd0aW1lJw0KICAgIH0sDQogICAgew0KICAgICAgdGl0bGU6ICfmm7TlpJrmk43kvZwnLA0KICAgICAga2V5OiAnYWN0aW9uJywNCiAgICAgIHNjb3BlZFNsb3RzOiB7Y3VzdG9tUmVuZGVyOiAnYWN0aW9uJ30sDQogICAgfSwNCiAgXTsNCiAgDQogIC8vIGNvbnN0IGRhdGEgPSBbXTsNCiAgDQogIGV4cG9ydCBkZWZhdWx0IHsNCiAgICBkYXRhKCkgew0KICAgICAgcmV0dXJuIHsNCiAgICAgICAgZm9ybVN0YXRlOnsNCiAgICAgICAgICAgIGFjY291bnQ6IiIsDQogICAgICAgICAgICBtb3VkbGU6IiINCiAgICAgICAgfSwNCiAgICAgICAgbG9hZGluZzogZmFsc2UsDQogICAgICAgIG1vZGFsTG9hZGluZzogZmFsc2UsDQogICAgICAgIGNvbW1vZGl0eVZpc2libGU6IGZhbHNlLA0KICAgICAgICBjb21tb2RpdHlMb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgZGF0YTogW10sDQogICAgICAgIGNvbHVtbnMsDQogICAgICAgIGhhc1NlbGVjdGVkOmZhbHNlLA0KICAgICAgICBqc29uX2ZpZWxkczogew0KICAgICAgICAgICAgLy/nlJ/miJBleGNlbOeahOWtl+aute+8muWvvOWHuuaVsOaNrueahOWtl+autQ0KICAgICAgICAgICAgJ+i0puWPtyc6ICdhY2NvdW50JywNCiAgICAgICAgICAgICfmqKHlnZflkI0nOiAnbW9kdWxlJywNCiAgICAgICAgICAgICfmk43kvZznsbvlnosnOididXNpbmNlc3NUeXBlJywNCiAgICAgICAgICAgICdJcCc6J0lQJywNCiAgICAgICAgICAgICfmk43kvZzmlrnms5UnOidtZXRob2QnLA0KICAgICAgICAgICAgJ+aXtumXtCc6J3RpbWUnDQogICAgICAgIH0sDQogICAgICB9Ow0KICAgIH0sDQogIA0KICAgIG1vdW50ZWQoKSB7DQogICAgICB0aGlzLmxvYWRUYWJsZURhdGEoKQ0KICAgIH0sDQogIA0KICAgIG1ldGhvZHM6IHsNCiAgICAgIC8v6I635Y+W6KGo5qC85pWw5o2uDQogICAgICBsb2FkVGFibGVEYXRhKCkgew0KICAgICAgICB0aGlzLmxvYWRpbmcgPSB0cnVlDQogICAgICAgIEZpbmRBbGxTeXN0ZW1Mb2coKS50aGVuKHJlcz0+ew0KICAgICAgICAgIHNldFRpbWVvdXQoKCkgPT4gew0KICAgICAgICAgICAgdGhpcy5sb2FkaW5nID0gZmFsc2UNCiAgICAgICAgICAgIHRoaXMuZGF0YSA9IHJlcy5kYXRhDQogICAgICAgICAgfSwgNjAwKQ0KICAgICAgICB9KQ0KICAgICAgfSwNCiAgICAgIHN1Ym1pdENvbW1vZGl0eSgpIHsNCiAgICAgICAgdGhpcy5tb2RhbExvYWRpbmcgPSB0cnVlDQogICAgICB9LA0KICAgICAgLy/liKDpmaTml6Xlv5fkv6Hmga8NCiAgICAgIGhhbmRsZURlbGV0ZShyLCBpbmRleCkgew0KICAgICAgICBEZWxldGVTeXN0ZW1Mb2dCeUlkKHIuaWQpLnRoZW4oKHJlcykgPT4gew0KICAgICAgICAgIGlmIChyZXMuc3RhdHVzKSB0aGlzLiRtZXNzYWdlLnN1Y2Nlc3MoJ+aXpeW/l+S/oeaBr+WIoOmZpOaIkOWKnycpOw0KICAgICAgICAgIHRoaXMubG9hZFRhYmxlRGF0YSgpDQogICAgICAgIH0pDQogICAgICB9LA0KICAgICAgLy/mnaHku7bmn6Xor6LlpITnkIblh73mlbANCiAgICAgIGhhbmRsZVN1Ym1pdCgpew0KICAgICAgICBxdWVyeVN5c3RlbUxvZyh0aGlzLmZvcm1TdGF0ZS5hY2NvdW50LHRoaXMuZm9ybVN0YXRlLm1vdWRsZSkudGhlbihyZXM9PnsNCiAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YQ0KICAgICAgICB9KQ0KICAgICAgfQ0KICAgIH0sDQogIH07DQogIA=="},{"version":3,"sources":["SystemLog.vue"],"names":[],"mappings":";AA+CA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA","file":"SystemLog.vue","sourceRoot":"src/views/logging","sourcesContent":["<template>\r\n    <div>\r\n      <!-- 搜索框 -->\r\n      <div style=\"display:flex; margin-bottom: 20px;\">\r\n    <!-- 搜索表单 -->\r\n    <a-form layout=\"inline\" style=\"display: flex;align-items: center;\">\r\n        <a-form-item>\r\n        <a-input v-model:value=\"formState.account\" placeholder=\"账号\">\r\n        </a-input>\r\n        </a-form-item>\r\n        <a-form-item>\r\n            <a-input v-model:value=\"formState.moudle\" placeholder=\"模块名\"> \r\n            </a-input>\r\n        </a-form-item>\r\n        <a-button type=\"primary\"  html-type=\"submit\" @click=\"handleSubmit\" >搜索</a-button>\r\n\r\n        <!-- 导出操作日志 -->\r\n        <download-excel\r\n          class=\"export-excel-wrapper\"\r\n          style=\"margin-left: 20px;\"\r\n          :data=\"data\"\r\n          :fields=\"json_fields\"\r\n          name=\"操作日志.xls\">\r\n        <a-button class=\"editable-btn\">\r\n          <a-icon type=\"cloud-download\"/>\r\n          下载操作日志 Excel\r\n        </a-button>\r\n      </download-excel>\r\n    </a-form>\r\n   \r\n   </div>\r\n      <!-- 表格数据 -->\r\n      <a-table :loading=\"loading\" :columns=\"columns\" :data-source=\"data\" \r\n      :sortDirections=\"['ascend', 'descend']\" rowKey=\"id\" >\r\n        <a slot=\"name\" slot-scope=\"text\">{{ text }}</a>\r\n        <span slot=\"customTitle\"><a-icon type=\"smile-o\"/> 账号 </span>\r\n        <span slot=\"action\" slot-scope=\"text, record, index\">\r\n            <a-divider type=\"vertical\"/>\r\n           <a-button @click=\"handleDelete(record,index)\" type=\"link\"><a-icon type=\"delete\"/> Delete</a-button>\r\n        </span>\r\n      </a-table>\r\n  \r\n  \r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import {FindAllSystemLog,DeleteSystemLogById,querySystemLog} from \"@/api/log\";\r\n  \r\n  const columns = [\r\n    {\r\n      dataIndex: 'account',\r\n      key: 'account',\r\n      slots: {title: 'customTitle'},\r\n      scopedSlots: {customRender: 'account'}\r\n    },\r\n    {\r\n      title: '功能模块',\r\n      dataIndex: 'module',\r\n      key: 'module',\r\n    },\r\n    {\r\n      title: '操作类型',\r\n      dataIndex: 'busincessType',\r\n      key: 'busincessType',\r\n    },\r\n    {\r\n      title: 'IP',\r\n      dataIndex: 'ip',\r\n      key: 'ip',\r\n    },\r\n    {\r\n      title: '操作类方法',\r\n      key: 'method',\r\n      dataIndex: 'method'\r\n    },\r\n    {\r\n      title: '操作时间',\r\n      key: 'time',\r\n      dataIndex: 'time',\r\n      defaultSortOrder: 'descend', // 默认上到下为由大到小的顺序\r\n      sorter: (a, b) => { return a.time> b.time? 1 : -1 },\r\n      sortField: 'time'\r\n    },\r\n    {\r\n      title: '更多操作',\r\n      key: 'action',\r\n      scopedSlots: {customRender: 'action'},\r\n    },\r\n  ];\r\n  \r\n  // const data = [];\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        formState:{\r\n            account:\"\",\r\n            moudle:\"\"\r\n        },\r\n        loading: false,\r\n        modalLoading: false,\r\n        commodityVisible: false,\r\n        commodityLoading: false,\r\n        data: [],\r\n        columns,\r\n        hasSelected:false,\r\n        json_fields: {\r\n            //生成excel的字段：导出数据的字段\r\n            '账号': 'account',\r\n            '模块名': 'module',\r\n            '操作类型':'busincessType',\r\n            'Ip':'IP',\r\n            '操作方法':'method',\r\n            '时间':'time'\r\n        },\r\n      };\r\n    },\r\n  \r\n    mounted() {\r\n      this.loadTableData()\r\n    },\r\n  \r\n    methods: {\r\n      //获取表格数据\r\n      loadTableData() {\r\n        this.loading = true\r\n        FindAllSystemLog().then(res=>{\r\n          setTimeout(() => {\r\n            this.loading = false\r\n            this.data = res.data\r\n          }, 600)\r\n        })\r\n      },\r\n      submitCommodity() {\r\n        this.modalLoading = true\r\n      },\r\n      //删除日志信息\r\n      handleDelete(r, index) {\r\n        DeleteSystemLogById(r.id).then((res) => {\r\n          if (res.status) this.$message.success('日志信息删除成功');\r\n          this.loadTableData()\r\n        })\r\n      },\r\n      //条件查询处理函数\r\n      handleSubmit(){\r\n        querySystemLog(this.formState.account,this.formState.moudle).then(res=>{\r\n          this.data = res.data\r\n        })\r\n      }\r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .editable-add-btn {\r\n    margin-bottom: 15px;\r\n  }\r\n  </style>\r\n  "]}]}