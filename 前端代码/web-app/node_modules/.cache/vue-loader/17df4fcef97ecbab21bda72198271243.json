{"remainingRequest":"D:\\cxs\\Desktop\\stack-white-code\\公众号同步代码\\temp\\在线物流系统\\web-app\\web-app\\node_modules\\vue-loader\\lib\\index.js??vue-loader-options!D:\\cxs\\Desktop\\stack-white-code\\公众号同步代码\\temp\\在线物流系统\\web-app\\web-app\\src\\views\\logging\\LoginLog.vue?vue&type=script&lang=js","dependencies":[{"path":"D:\\cxs\\Desktop\\stack-white-code\\公众号同步代码\\temp\\在线物流系统\\web-app\\web-app\\src\\views\\logging\\LoginLog.vue","mtime":1671336847744},{"path":"D:\\cxs\\Desktop\\stack-white-code\\公众号同步代码\\temp\\在线物流系统\\web-app\\web-app\\node_modules\\cache-loader\\dist\\cjs.js","mtime":1704694273307},{"path":"D:\\cxs\\Desktop\\stack-white-code\\公众号同步代码\\temp\\在线物流系统\\web-app\\web-app\\node_modules\\vue-loader\\lib\\index.js","mtime":1704694305094}],"contextDependencies":[],"result":[{"type":"Buffer","data":"base64:DQogIGltcG9ydCB7RmluZEFsbExvZ2luTG9nLERlbGV0ZUxvZ2luTG9nQnlJZH0gZnJvbSAiQC9hcGkvbG9nIjsNCiAgDQogIGNvbnN0IGNvbHVtbnMgPSBbDQogICAgew0KICAgICAgZGF0YUluZGV4OiAnZW1haWwnLA0KICAgICAga2V5OiAnbmFtZScsDQogICAgICBzbG90czoge3RpdGxlOiAnY3VzdG9tVGl0bGUnfSwNCiAgICAgIHNjb3BlZFNsb3RzOiB7Y3VzdG9tUmVuZGVyOiAnbmFtZSd9DQogICAgfSwNCiAgICB7DQogICAgICB0aXRsZTogJ+a1j+iniOWZqOexu+WeiycsDQogICAgICBkYXRhSW5kZXg6ICdicm93c2VyJywNCiAgICAgIGtleTogJ2Rlc2NyaXB0aW9uJywNCiAgICB9LA0KICAgIHsNCiAgICAgIHRpdGxlOiAnSVAnLA0KICAgICAgZGF0YUluZGV4OiAnaXAnLA0KICAgICAga2V5OiAnYWRkcmVzcycsDQogICAgfSwNCiAgICB7DQogICAgICB0aXRsZTogJ+eZu+W9leaXtumXtCcsDQogICAgICBrZXk6ICdkYXRlJywNCiAgICAgIGRhdGFJbmRleDogJ2RhdGUnLA0KICAgICAgZGVmYXVsdFNvcnRPcmRlcjogJ2Rlc2NlbmQnLCAvLyDpu5jorqTkuIrliLDkuIvkuLrnlLHlpKfliLDlsI/nmoTpobrluo8NCiAgICAgIHNvcnRlcjogKGEsIGIpID0+IHsgcmV0dXJuIGEuZGF0ZT4gYi5kYXRlPyAxIDogLTEgfSwNCiAgICAgIHNvcnRGaWVsZDogJ2RhdGUnDQogICAgfSwNCiAgICB7DQogICAgICB0aXRsZTogJ+eKtuaAgScsDQogICAgICBrZXk6ICdzdGF0dXMnLA0KICAgICAgZGF0YUluZGV4OiAnc3RhdHVzJywNCiAgICAgIHNjb3BlZFNsb3RzOiB7Y3VzdG9tUmVuZGVyOiAnc3RhdHVzJ30sDQogICAgfSwNCiAgICB7DQogICAgICB0aXRsZTogJ+abtOWkmuaTjeS9nCcsDQogICAgICBrZXk6ICdhY3Rpb24nLA0KICAgICAgc2NvcGVkU2xvdHM6IHtjdXN0b21SZW5kZXI6ICdhY3Rpb24nfSwNCiAgICB9LA0KICBdOw0KICANCiAgY29uc3QgZGF0YSA9IFtdOw0KICANCiAgZXhwb3J0IGRlZmF1bHQgew0KICAgIGRhdGEoKSB7DQogICAgICByZXR1cm4gew0KICAgICAgICBpc29ydGVyOnsNCiAgICAgICAgICBjb2x1bW46J2RhdGUnLA0KICAgICAgICAgIG9yZGVyOidkZXNjJw0KICAgICAgICB9LA0KICAgICAgICBsb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgbW9kYWxMb2FkaW5nOiBmYWxzZSwNCiAgICAgICAgY29tbW9kaXR5VmlzaWJsZTogZmFsc2UsDQogICAgICAgIGNvbW1vZGl0eUxvYWRpbmc6IGZhbHNlLA0KICAgICAgICBkYXRhOiBbXSwNCiAgICAgICAgY29sdW1ucywNCiAgICAgIH07DQogICAgfSwNCiAgDQogICAgbW91bnRlZCgpIHsNCiAgICAgIHRoaXMubG9hZFRhYmxlRGF0YSgpDQogICAgfSwNCiAgDQogICAgbWV0aG9kczogew0KICAgICAgLy/ojrflj5booajmoLzmlbDmja4NCiAgICAgIGxvYWRUYWJsZURhdGEoKSB7DQogICAgICAgIHRoaXMubG9hZGluZyA9IHRydWUNCiAgICAgICAgRmluZEFsbExvZ2luTG9nKCkudGhlbihyZXM9PnsNCiAgICAgICAgICBzZXRUaW1lb3V0KCgpID0+IHsNCiAgICAgICAgICAgIHRoaXMubG9hZGluZyA9IGZhbHNlDQogICAgICAgICAgICB0aGlzLmRhdGEgPSByZXMuZGF0YQ0KICAgICAgICAgIH0sIDYwMCkNCiAgICAgICAgfSkNCiAgICAgIH0sDQogICAgICAvL+WPkeeUn+aOkuW6j+WKqOS9nOeahOWkhOeQhuWHveaVsA0KICAgICAgdGFibGVDaGFuZ2UocGFnaW5hdGlvbiwgZmlsdGVycywgc29ydGVyKSB7DQogICAgICAgIGNvbnN0IHsgY3VycmVudCwgcGFnZVNpemUgfSA9IHBhZ2luYXRpb247DQogICAgICAgIC8vIHRoaXMucGFnaW5hdGlvbi5wYWdlU2l6ZSA9IHBhZ2VTaXplOw0KICAgICAgICBjb25zb2xlLmxvZygidGFibGVDaGFuZ2XmiafooYzkuoYiKQ0KICAgICAgICBpZiAoc29ydGVyLm9yZGVyKSB7DQogICAgICAgICAgY29uc3QgeyBmaWVsZCwgb3JkZXIgfSA9IHNvcnRlcjsNCiAgICAgICAgICB0aGlzLnNvcnQgPSBmaWVsZDsgLy8g5o6S5bqP55qE5pWw5o2uDQogICAgICAgICAgdGhpcy5zb3J0VHlwZSA9IG9yZGVyOyAvLyDmjpLluo/mlrnlvI8NCiAgICAgICAgfSBlbHNlIHsNCiAgICAgICAgICBjb25zb2xlLmxvZygi5LiN5YGa5o6S5bqPIik7DQogICAgICAgIH0NCiAgICAgICAgdGhpcy5sb2FkVGFibGVEYXRhKCkNCiAgICAgIH0sDQogICAgICBzdWJtaXRDb21tb2RpdHkoKSB7DQogICAgICAgIHRoaXMubW9kYWxMb2FkaW5nID0gdHJ1ZQ0KICAgICAgfSwNCiAgICAgIC8v5Yig6Zmk5pel5b+X5L+h5oGvDQogICAgICBoYW5kbGVEZWxldGUociwgaW5kZXgpIHsNCiAgICAgICBEZWxldGVMb2dpbkxvZ0J5SWQoci5pZCkudGhlbigocmVzKSA9PiB7DQogICAgICAgICAgaWYgKHJlcy5zdGF0dXMpIHRoaXMuJG1lc3NhZ2Uuc3VjY2Vzcygn5pel5b+X5L+h5oGv5Yig6Zmk5oiQ5YqfJyk7DQogICAgICAgICAgdGhpcy5sb2FkVGFibGVEYXRhKCkNCiAgICAgICAgfSkNCiAgICAgICAgY29uc29sZS5sb2coaW5kZXgpDQogICAgICB9LA0KICANCiAgICAgIGhhbmRsZVVwZGF0ZShyKSB7DQogICAgICAgIHRoaXMuY29tbW9kaXR5ID0gcg0KICAgICAgICB0aGlzLmNvbW1vZGl0eVZpc2libGUgPSB0cnVlDQogICAgICB9LA0KICANCiAgICB9LA0KICB9Ow0KICA="},{"version":3,"sources":["LoginLog.vue"],"names":[],"mappings":";AAmCA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;;AAEA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;AACA;;AAEA;AACA;AACA;AACA;;AAEA;AACA","file":"LoginLog.vue","sourceRoot":"src/views/logging","sourcesContent":["<template>\r\n    <div>\r\n      <!-- <div style=\"display: flex\">\r\n        <a-button size=\"large\" class=\"editable-add-btn\" @click=\"commodityVisible = true\">\r\n          <a-icon type=\"plus\"/>\r\n          新增商品\r\n        </a-button>\r\n        <a-input-search\r\n            placeholder=\"请输入商品名\"\r\n            enter-button=\"搜索商品\"\r\n            style=\"width: 400px;margin-left: 20px\"\r\n            size=\"large\"\r\n            @search=\"onSearch\"\r\n        />\r\n        <a-button style=\"margin-left: 10px\" size=\"large\" type=\"danger\" @click=\"loadTableData\">\r\n          重置\r\n        </a-button>\r\n      </div> -->\r\n      <a-table :loading=\"loading\" :columns=\"columns\" :data-source=\"data\" :sortDirections=\"['ascend', 'descend']\" rowKey=\"id\" @change=\"tableChange\" >\r\n        <a slot=\"name\" slot-scope=\"text\">{{ text }}</a>\r\n        <span slot=\"customTitle\"><a-icon type=\"smile-o\"/> 用户邮件</span>\r\n        <span slot=\"status\" slot-scope=\"status\">\r\n          <span v-show=\"status==1\" style=\"color:#52c41a\">成功</span>\r\n          <span v-show=\"status==0\" style=\"color:rgb(255, 77, 79)\">失败</span>\r\n        </span>\r\n        <span slot=\"action\" slot-scope=\"text, record, index\">\r\n        <a-divider type=\"vertical\"/>\r\n           <a-button @click=\"handleDelete(record,index)\" type=\"link\"><a-icon type=\"delete\"/> Delete</a-button>\r\n      </span>\r\n      </a-table>\r\n  \r\n    </div>\r\n  </template>\r\n  \r\n  <script>\r\n  import {FindAllLoginLog,DeleteLoginLogById} from \"@/api/log\";\r\n  \r\n  const columns = [\r\n    {\r\n      dataIndex: 'email',\r\n      key: 'name',\r\n      slots: {title: 'customTitle'},\r\n      scopedSlots: {customRender: 'name'}\r\n    },\r\n    {\r\n      title: '浏览器类型',\r\n      dataIndex: 'browser',\r\n      key: 'description',\r\n    },\r\n    {\r\n      title: 'IP',\r\n      dataIndex: 'ip',\r\n      key: 'address',\r\n    },\r\n    {\r\n      title: '登录时间',\r\n      key: 'date',\r\n      dataIndex: 'date',\r\n      defaultSortOrder: 'descend', // 默认上到下为由大到小的顺序\r\n      sorter: (a, b) => { return a.date> b.date? 1 : -1 },\r\n      sortField: 'date'\r\n    },\r\n    {\r\n      title: '状态',\r\n      key: 'status',\r\n      dataIndex: 'status',\r\n      scopedSlots: {customRender: 'status'},\r\n    },\r\n    {\r\n      title: '更多操作',\r\n      key: 'action',\r\n      scopedSlots: {customRender: 'action'},\r\n    },\r\n  ];\r\n  \r\n  const data = [];\r\n  \r\n  export default {\r\n    data() {\r\n      return {\r\n        isorter:{\r\n          column:'date',\r\n          order:'desc'\r\n        },\r\n        loading: false,\r\n        modalLoading: false,\r\n        commodityVisible: false,\r\n        commodityLoading: false,\r\n        data: [],\r\n        columns,\r\n      };\r\n    },\r\n  \r\n    mounted() {\r\n      this.loadTableData()\r\n    },\r\n  \r\n    methods: {\r\n      //获取表格数据\r\n      loadTableData() {\r\n        this.loading = true\r\n        FindAllLoginLog().then(res=>{\r\n          setTimeout(() => {\r\n            this.loading = false\r\n            this.data = res.data\r\n          }, 600)\r\n        })\r\n      },\r\n      //发生排序动作的处理函数\r\n      tableChange(pagination, filters, sorter) {\r\n        const { current, pageSize } = pagination;\r\n        // this.pagination.pageSize = pageSize;\r\n        console.log(\"tableChange执行了\")\r\n        if (sorter.order) {\r\n          const { field, order } = sorter;\r\n          this.sort = field; // 排序的数据\r\n          this.sortType = order; // 排序方式\r\n        } else {\r\n          console.log(\"不做排序\");\r\n        }\r\n        this.loadTableData()\r\n      },\r\n      submitCommodity() {\r\n        this.modalLoading = true\r\n      },\r\n      //删除日志信息\r\n      handleDelete(r, index) {\r\n       DeleteLoginLogById(r.id).then((res) => {\r\n          if (res.status) this.$message.success('日志信息删除成功');\r\n          this.loadTableData()\r\n        })\r\n        console.log(index)\r\n      },\r\n  \r\n      handleUpdate(r) {\r\n        this.commodity = r\r\n        this.commodityVisible = true\r\n      },\r\n  \r\n    },\r\n  };\r\n  </script>\r\n  \r\n  <style scoped>\r\n  .editable-add-btn {\r\n    margin-bottom: 15px;\r\n  }\r\n  </style>\r\n  "]}]}